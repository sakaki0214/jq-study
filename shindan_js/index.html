<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>キャラ診断</title>
<meta name="keywords" content="">
<meta name="description" content="">
<style>
body {
  margin:10px auto;
  text-align:center;
}
</style>
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
$(function(){
  $("#getResult").click(function(){
    //名前をとってくる
    var name = $("#name").val();
    //console.log(name);

    if( name === "") {
      alert("名前を入力してください");
      return;
    }
    //タイプの生成
    var types = ["勇者","魔法使い","戦士","遊び人","スーパースター"];
    // 0-n の乱数
    //Math.floor(Math.random() * (n+1))
    var type= types[Math.floor(Math.random() * types.length)];

    //キャラクターの生成
    var characters = ["賢い","勇ましい","かわいい","情けない","天然な"];
    // 0-n の乱数
    //Math.floor(Math.random() * (n+1))
    var character= characters[Math.floor(Math.random() * characters.length)];

    //結果を表示
    var result = name + "さんは「" + character + type + "」です";
    $('#result').text(result);

    //ツイートリンクの表示
    var tweetLink = "<a href='https://twitter.com/intent/tweet?text=" + encodeURIComponent(result) + "&hashtags=dotinstall' target='_blank'>ツイートする</a>";
    $("#tweet").html(tweetLink);
  });
});
</script>
</head>
<body>
<h1>キャラ診断</h1>
<p><input type="text" id="name" value=""></p>
<p><input type="button" id="getResult" value="診断!"></p>
<h2>診断結果</h2>
<p id="result">こちらに結果が表示されます</p>
<div id="tweet"></div>
</body>
</html>
